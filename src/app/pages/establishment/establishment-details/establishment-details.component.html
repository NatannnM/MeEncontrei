<ion-content *ngIf="establishment" [fullscreen]="true">
  <div class="background-banner">
    <img [alt]="establishment.name" [src]="establishment.image">
    <div class="background-fade"></div>
  </div>

  <div class="content-wrapper ion-padding">

    <div class="main-grid">

      <div class="info-column">
        <h1 class="establishment-title">{{ establishment.name }}</h1>
        <p class="establishment-description">{{establishment.description}}
        </p>
      </div>

      <div class="actions-column">
        <ion-card class="actions-card">
          <ion-card-content>
            <div *ngFor="let estUser of establishmentUser;">
              <ion-button expand="block" shape="round" *ngIf="estUser.creator === true && estUser.id_user === currentUser.id">
                Inserir mapa
                <input type="file" accept=".txt" (change)="inserir_mapa($event)"
                  style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; cursor: pointer;" />
                <ion-icon slot="end" name="add-circle-outline"></ion-icon>
              </ion-button>
              
              <ion-button expand="block" shape="round" [routerLink]="['/establishment/mapas', establishment.id, 'editar']" *ngIf="estUser.creator === true && estUser.id_user === currentUser.id">
                Editar mapa
                <ion-icon slot="end" name="create-outline"></ion-icon>
              </ion-button>

              <ion-button expand="block" shape="round" (click)="baixar_mapa()" *ngIf="estUser.creator === true && estUser.id_user === currentUser.id">
                Baixar mapa
                <ion-icon slot="end" name="download-outline"></ion-icon>
              </ion-button>
            </div>
            <ion-button expand="block" shape="round" [routerLink]="['/establishment/mapas', establishment.id, 'exibir']">
              Acesse o Mapa
              <ion-icon slot="end" name="map-outline"></ion-icon>
            </ion-button>
          </ion-card-content>
        </ion-card>
      </div>
    </div>
  </div>
  <ion-fab vertical="bottom" horizontal="end" slot="fixed" *ngIf="origin === 'admin'">
    <ion-fab-button [routerLink]="['/establishment/adminManagement', 'estabelecimento']">
      <ion-icon name="return-down-back"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>